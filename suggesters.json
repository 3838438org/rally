{
  "description": "Evaluate the completion suggester",
  "documents": [
    {
      "name": "docs",
      "type": "snapshot",
      "#COMMENT": "Contains the snapshot to download. Rally will then provide a HTTP repository so it can be restored remotely",
      "source": "snapshot.bz2",
      "compressed-bytes": 264698741,
      "uncompressed-bytes": 3547614383
    }
  ],
  "challenge": {
    "name": "fuzzy",
    "schedule": [
      {
        "operation": {
          "operation-type": "restore-from-snapshot",
          "snapshot-name": "docs"
        }
      },
      {
        "operation": {
          "operation-type": "search",
          "body": {
            "suggest": {
              "song-suggest": {
                "prefix": "nor",
                "completion": {
                  "field": "suggest",
                  "fuzzy": {
                    "fuzziness": "{{fuzziness | default('AUTO')}}"
                  }
                }
              }
            }
          },
          "body-params": {
            "suggest.song-suggest.prefix": ["a", "b", "c"]
          }
        },
        "clients": {{clients | default(1)}},
        "target-throughput": 5,
        "schedule": "poisson",
        "warmup-iterations": 100,
        "iterations": 100
      }
    ]
  }
}